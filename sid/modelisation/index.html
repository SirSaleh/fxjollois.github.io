<!doctype html>
<html>
    <head>
        <title>Informatique D&#xE9;cisionnelle</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../../css/global.css">
        <meta name="keywords" content="programmation, sql, r, sas, python, mongo, nosql, html, css, javascript, d3, google charts, chart.js">
        <meta name="description" content="Page professionnelle de FX Jollois, contenant des notes de programmation, des tutoriels et des slides de cours, ainsi que des liens vers les projets GitHub personnels">
        <meta name="author" content="Francois-Xavier Jollois">
        <meta name="copyright" content="&#xA9;">
    <link rel="stylesheet" href="../../css/remark-slides.css"></head>
    <body>
        <header></header>
        <section><textarea id="source"># Informatique D&#xE9;cisionnelle

## Modelisation

## DUT STID 2&#xE8;me ann&#xE9;e
### F.-X. Jollois 

---
## Plan du cours

- Contraintes
  - Pourquoi d&#xE9;normaliser ?
  - Optimisation du temps
  - Lisibilit&#xE9; du mod&#xE8;le
  - Axes de qualification
- D&#xE9;marche
  - D&#xE9;normalisation
  - Mod&#xE9;lisation dimensionnelle
  - E&#x301;tapes de la mod&#xE9;lisation
  - Diff&#xE9;rents mod&#xE8;les
- Atouts et faiblesses


---
## Pourquoi d&#xE9;normaliser ?

- Contexte d&#xE9;cisionnel
  - Mise &#xE0; jour par des syst&#xE8;mes de productions
  - Pas de maj en ligne
  - Int&#xE9;grit&#xE9; de l&#x2019;entrep&#xF4;t jamais remis en cause
  - N&#xE9;cessit&#xE9; de faire des requ&#xEA;tes complexes avec un temps de r&#xE9;ponse relativement court
- Solution
  - Possibilit&#xE9; d&#x2019;introduire de la redondance
  - D&#xE9;normalisation des tables


---
## Optimisation du temps

- Contexte d&#xE9;cisionnel
  - Requ&#xEA;tes sur des grands ensembles
  - Utilisation fr&#xE9;quente d&#x2019;agr&#xE9;gats, de regroupements, de calculs, ...
  - Temps de r&#xE9;ponse plus important qu&#x2019;en transactionnel Solution
- Solution 
  - Limitation du nombre de tables
  - Optimisation des requ&#xEA;tes fr&#xE9;quentes via des index, du partitionnement, ...


---
## Lisibilit&#xE9; du mod&#xE8;le

- Contexte d&#xE9;cisionnel
  - Lien entre &#xE9;l&#xE9;ments non corr&#xE9;l&#xE9;s
  - Requ&#xEA;tes complexes
  - Utilisation par un non-informaticien
  - Volont&#xE9; de r&#xE9;activit&#xE9; importante du syst&#xE8;me
- Solution
  - N&#xE9;cessit&#xE9; d&#x2019;avoir un mod&#xE8;le lisible et intuitif
  - Mod&#xE8;le des donn&#xE9;es &#xE9;volutif


---
## Axes de qualification

- Axes de qualification d&#x2019;un mod&#xE8;le d&#xE9;cisionnel
  - Lisibilit&#xE9;
  - Performances en terme de chargement
  - Performances en terme d&#x2019;ex&#xE9;cution
  - Administration
  - E&#x301;volutivit&#xE9;
- Axes antagonistes 
  - Ex&#xE9;cution rapide &#x2192; Redondances, agr&#xE9;gations, calcul <br>&#x2192; Chargement long &amp; Administration complexe 
- Associer un poids &#xE0; chaque axe 
- Trouver le bon &#xE9;quilibre


---
## D&#xE9;normalisation

- Pas de technique formelle
- Approche pragmatique n&#xE9;cessaire
- Analyse pr&#xE9;cise des besoins des utilisateurs 
- D&#xE9;finition des sujets d&#x2019;int&#xE9;r&#xEA;t majeur
- Quelques points important :
  - Une table &#x2192; un sujet d&#x2019;int&#xE9;r&#xEA;t
  - Moins de tables &#x2192; moins de jointures
  - Tables plus volumineuses
  - Requ&#xEA;tes plus simples


---
## Mod&#xE9;lisation dimensionnelle

- Analyse de la performance
- Utilisation d&#x2019;un ensemble d&#x2019;indicateurs (ou **Faits**)
  - Taux d&#x2019;occupation des lits dans un h&#xF4;pital
  - Nombre de produits en stock
  - Montant d&apos;un achat
  - ...
- Indicateurs analys&#xE9;s en terme de **Dimensions** (axe d&#x2019;analyse)
  - Temps, Localisation, Clients, Service, ...
- Table de faits regroupant les indicateurs ayant le m&#xEA;me ensemble de dimensions


---
## Etapes de la mod&#xE9;lisation

1. Choix du processus &#xE0; mod&#xE9;liser
  - Activit&#xE9; de l&#x2019;organisation et &#xE9;coute des utilisateurs
  - Pas attach&#xE9; &#xE0; un service ou &#xE0; une fonction
2. D&#xE9;finition de la granularit&#xE9; du processus
  - Niveau de d&#xE9;tails des mesures d&#x2019;une ligne de la table de faits
  - E&#x301;tape critique et obligatoire
3. Choix des dimensions
  - Caract&#xE9;ristiques de la table des faits
4. Identification des faits
  - Mesures &#xE0; mettre dans la table de faits
  - Au niveau de granularit&#xE9; de l&#x2019;&#xE9;tape 2


---
## S&#xE9;lection du processus

- Premi&#xE8;re &#xE9;tape de la conception : choix du processus &#xE0; mod&#xE9;liser
- Choix du mod&#xE8;le avec la plus forte incidence
  - R&#xE9;pondre aux questions les plus pressantes des utilisateurs
  - Donn&#xE9;es faciles &#xE0; extraire
- Affinement et extension du mod&#xE8;le par &#xE9;tape 
  - Cr&#xE9;ation d&#x2019;autres mod&#xE8;les par la suite
- Se focaliser sur les processus et non les services
- Assurer la coh&#xE9;rence des donn&#xE9;es en les publiant une seule fois avec un nombre r&#xE9;duit de mod&#xE8;le


---
## Choix du grain

- D&#xE9;cision importante et cruciale dans la mod&#xE9;lisation
- R&#xE9;pondre &#xE0; la question
  - Quel niveau de d&#xE9;tail doit-il &#xEA;tre rendu disponible dans le mod&#xE8;le dimensionnel ?
- D&#xE9;velopper les mod&#xE8;les dimensionnels bas&#xE9;s sur les donn&#xE9;es les plus atomiques et donc les plus d&#xE9;taill&#xE9;es
  - Donn&#xE9;es hautement dimensionnelles
  - Souplesse maximale d&#x2019;analyse
- E&#x301;l&#xE9;vation du grain entrainant la r&#xE9;duction de dimensions et la vuln&#xE9;rabilit&#xE9; face aux demandes inattendues


---
## Granularit&#xE9;

| Caract&#xE9;ristiques | Transaction                | Instantan&#xE9; p&#xE9;riodique                    | Instantan&#xE9; r&#xE9;capitulatif |
|------------------|----------------------------|------------------------------------------|--------------------------|
| P&#xE9;riode de temps | Point dans le temps        | Intervalles r&#xE9;guliers pr&#xE9;visibles        | Dur&#xE9;e in- determin&#xE9;e, g&#xE9;n&#xE9;ralement courte | 
| Grain            | Une ligne par &#xE9;v&#xE9;nement    | Une ligne par p&#xE9;riode                    | Une ligne pour la vie de l&#x2019;entit&#xE9; | 
| Chargement       | Insertion                  | Insertion                                | Insertion et mise &#xE0; jour | 
| Mise &#xE0; jour ?    | aucune                     | aucune                                   | Mise &#xE0; jour pour chaque activit&#xE9; | 
| Dimension date ? | Date de la transaction     | Date de la fin de p&#xE9;riode                | Dates multiples pour des &#xE9;tapes standard |
| Faits            | Activit&#xE9; de la transaction | Performance dans un intervalle pr&#xE9;d&#xE9;fini | Performance sur une dur&#xE9;e de vie limit&#xE9;e | 


---
## Choix des dimensions

- Choix naturel une fois le grain de la table de faits choisi pour les dimensions pricipales
- Dimension suppl&#xE9;mentaire ne remettant pas en cause le grain choisi (sinon revoir l&#x2019;&#xE9;tape pr&#xE9;c&#xE9;dente)
- S&#xE9;paration de date et d&#x2019;heure (dimensions souvent pr&#xE9;sentes)
- Pas de soucis en terme d&#x2019;espace car tables g&#xE9;n&#xE9;ralement petites par rapport &#xE0; la table de faits
- Diff&#xE9;rents forages possibles
  - Vers le bas : ajout d&#x2019;un attribut &#xE0; l&#x2019;int&#xE9;rieur de la hi&#xE9;rarchie naturelle de la dimension ou non
  - Vers le haut : suppression d&#x2019;attributs


---
## Dimensions d&#xE9;g&#xE9;n&#xE9;r&#xE9;es

- Cl&#xE9;s de dimension ne correspondant pas &#xE0; des tables de dimensions
- Courantes avec une granularit&#xE9; au niveau d&#x2019;une seule transaction ou d&#x2019;un &#xE9;l&#xE9;ment d&#x2019;une transaction
- Exemple :
  - Num&#xE9;ro de transaction d&#x2019;un Terminal Point de Vente pour une table de faits achats dans un magasin
  - Num&#xE9;ro de commande, de facture, de lettre de transport, ...
- Partie de la cl&#xE9; primaire de la table de faits g&#xE9;n&#xE9;ralement


---
## Identification des faits

- Choix en fonction de la granularit&#xE9; d&#xE9;finie
- Remise en cause possible de l&#x2019;&#xE9;tape de d&#xE9;finition de la granularit&#xE9;
- Estimation utile du nombre de lignes de la table de faits
- Possibilit&#xE9; de calculer des faits &#xE0; partir d&#x2019;autres faits de la table
  - Ex : Prix unitaire moyen d&apos;un produit
  - Fait : prix unitaire &#xE0; chaque vente + quantit&#xE9; vendue


---
## Faits additifs et non additifs

- Attention aux faits additifs et non additifs
  - Sommes additives
  - Pourcentages et ratios (dont moyennes) non additifs
  - Stockage du num&#xE9;rateur et du d&#xE9;nominateur dans la table de faits
  - Faire le ratio des sommes et non la somme des ratios
- Prix unitaire non additif 
  - Additionner les ventes en euro et les quantit&#xE9;s
  - Rapport = prix moyen d&#x2019;un produit sur une p&#xE9;riode


---
## Sch&#xE9;mas de mod&#xE9;lisation

3 types de sch&#xE9;ma du plus simple au plus complexe :
- En &#xE9;toile
- En flocon
- En constellation 

Dimensions conformes	
- Dimensions potentiellement partag&#xE9;es par des tables de faits diff&#xE9;rentes	
- Coh&#xE9;rence, Int&#xE9;gration, Productivit&#xE9;

---
## Sch&#xE9;ma en &#xE9;toile

- Une seule table de faits
- Plusieurs tables de dimensions, toutes rattach&#xE9;es directement &#xE0; la table de faits

<img alt="Sch&#xE9;ma en &#xE9;toile" src="sid--cours-modelisation-etoile.png" width="100%">

---
## Sch&#xE9;ma en flocon de neige

- Normalisation des dimensions
- Notion de hi&#xE9;rarchie au sein d&#x2019;une dimension

<img alt="Sch&#xE9;ma en flocon" src="sid--cours-modelisation-flocon.png" width="100%">

---
## Sch&#xE9;ma en constellation de faits

- Plusieurs tables de faits
- Tables de dimensions reli&#xE9;es &#xE0; une ou plusieurs tables de faits

<img alt="Sch&#xE9;ma en constellation" src="sid--cours-modelisation-constellation.png" width="100%">

---
## Atouts et faiblesses de la mod&#xE9;lisation dimensionnelle

- Atouts
  - Lisibilit&#xE9;
  - Performance
  - Possibilit&#xE9; d&#x2019;acquisition de l&#x2019;exp&#xE9;rience
- Faiblesses
  - Manque de compl&#xE9;tude
  - Ajout d&#x2019;une dimension parfois complexe
  - Fondamentalement orient&#xE9;e m&#xE9;tier
- Mod&#xE9;lisation dimensionnelle adapt&#xE9;e pour les magasins de donn&#xE9;es, plut&#xF4;t que pour les entrep&#xF4;ts de donn&#xE9;es

---
## Exemple : Northwind

![Sch&#xE9;ma de la BD Northwind](Northwind_A4_size_for_Print.png)
</textarea><script src="https://gnab.github.io/remark/downloads/remark-latest.min.js"></script><script>var slideshow = remark.create();
</script></section>
        <footer></footer>
    </body>
</html>