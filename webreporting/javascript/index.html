<!doctype html>
<html>
    <head>
        <title>JavaScript</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../../css/global.css">
        <meta name="keywords" content="programmation, sql, r, sas, python, mongo, nosql, html, css, javascript, d3, google charts, chart.js">
        <meta name="description" content="Page professionnelle de FX Jollois, contenant des notes de programmation, des tutoriels et des slides de cours, ainsi que des liens vers les projets GitHub personnels">
        <meta name="author" content="Francois-Xavier Jollois">
        <meta name="copyright" content="&#xA9;">
    <link rel="stylesheet" href="../../lib/highlight/styles/default.css">
</head>
    <body>
        <header></header>
        <section><textarea id="source"># JavaScript

## Introduction &#xE0; la programmation web dynamique

- `JavaScript` (ou `JS`) bas&#xE9; sur [ECMAScript](https://www.ecmascript.org/)
- Script interpr&#xE9;t&#xE9; c&#xF4;t&#xE9; client 
    - Possibilit&#xE9; de l&apos;interpr&#xE9;ter c&#xF4;t&#xE9; serveur avec des outils comme [NodeJS](https://nodejs.org)
- Utilis&#xE9; aussi dans des outils autres (*CouchDB*, *MongoDB*, ...)
- Manipulation totale du **DOM**
- Ex&#xE9;cuter directement lors de la lecture de la page (attention au placement des commandes)
- Possibilit&#xE9; de demander l&apos;ex&#xE9;cution &#xE0; la fin du chargement de la page (en particulier des images et vid&#xE9;os par exemple)
- Quelques outils disponibles de validation du code
- Commentaires sur une ligne avec `//` et sur plusieurs lignes avec `/* */`

---
## Ex&#xE9;cution

Code ex&#xE9;cutable directement dans la **console** `JS` pr&#xE9;sente dans tous les navigateurs
- Affichage de la console
- Ecriture de commandes `JS`
- Tr&#xE8;s utile pour le d&#xE9;bogage 

## Int&#xE9;gration

Deux possibilit&#xE9;s d&apos;int&#xE9;gration du script :
- dans une balise `<script>code JS</script>`
- dans un fichier texte appel&#xE9; avec `<script src="code.js"></script>`

---
## Typage des variables

Typage faible :
- pas de d&#xE9;claration de type lors de la cr&#xE9;ation de la variable
- pas de d&#xE9;claration de la variable n&#xE9;cessaire avant utilisation
- pas de v&#xE9;rification de type lors d&apos;une affectation
- **ATTENTION** donc

```js
const pi = 3.14;    // pi sera en lecture seule par la suite
var a = 5, b = &quot;b&quot;; // globale ou locale en fonction du placement de var
d = a;              // var implicite ici, d sera globale
a = b;              // a devient une cha&#xEE;ne
var z;              // utilisation de var possible &#xE0; tout moment
let temp;           // dur&#xE9;e de vie = bloc en cours
```

---
## Type des variables

- D&#xE9;clar&#xE9;e mais sans valeur : `undefined`
- Nul : `null` 
- Bool&#xE9;en :`true`|`false`
- Num&#xE9;rique : pour les entiers et r&#xE9;els
- Cha&#xEE;ne de caract&#xE8;re : d&#xE9;finie avec `&quot;cha&#xEE;ne&quot;` ou `&apos;cha&#xEE;ne&apos;`
- Tableau : sans contrainte de type (m&#xE9;lange possible)
- Objet : type complexe structur&#xE9; compos&#xE9; lui-m&#xEA;me de variables nomm&#xE9;es sans contrainte de type (fonctions possibles)

```js
var tab = [1, &quot;deux&quot;, true]; // tab[0] vaut 1
var obj = {
    n: &quot;blablabla&quot;,     // on y acc&#xE8;de avec obj.n
    p1: 12,             // idem pour les autres
    p2: 3.214325,
    t: [12, 23, 98]
};
```

---
### Format JSON

- `JSON` pour **JavaScript Object Notation**
- Utilis&#xE9; de plus en plus souvent pour le stockage de donn&#xE9;es et surtout par les API
- Bas&#xE9; sur les types pr&#xE9;c&#xE9;demment cit&#xE9;es
- `GeoJSON` : format sp&#xE9;cifique pour stocker les donn&#xE9;es g&#xE9;ographiques (coordonn&#xE9;es et formes)

Exemple 
- Donn&#xE9;es retourn&#xE9;es par Open Street View pour la localisation de la Tour Eiffel :
    - [donn&#xE9;es](http://nominatim.openstreetmap.org/search?q=tour+eiffel+paris+france&amp;format=json) (&#xE0; ouvrir dans une autre fen&#xEA;tre)
- Activer le plugin `JSONView` de votre navigateur (ou tout autre plugin permettant de visualiser correctement les donn&#xE9;es `JSON`)

---
## Op&#xE9;rations math&#xE9;matiques

- Op&#xE9;rateurs usuels : `+`, `-`, `*`, `/`
- Convertion automatique si n&#xE9;cessaire : attention aux m&#xE9;langes entier/cha&#xEE;ne

## Op&#xE9;rations logiques

- Op&#xE9;rateurs usuels : `==`, `!=`, `<`, `<="`," `="">`, `&gt;=`
- Op&#xE9;rateurs compl&#xE9;mentaires : `===`, `!==`
    - V&#xE9;rifie l&apos;&#xE9;galit&#xE9; parfaite (i.e. m&#xEA;me type - cf convertion automatique)
    - `5 == &quot;5&quot;` renvoie `true`
    - `5 === &quot;5&quot;` renvoie `false`

---
## Traitement conditionnel : `if`

```js
if (condition) {
    ligne(s) de code;
}
```

```js
if (condition) {
    ligne(s) de code;
} else {
    ligne(s) de code;
}
```

```js
if (condition) {
    ligne(s) de code;
} else if {
    ligne(s) de code;
} else {
    ligne(s) de code;
}
```

---
## Traitement conditionnel : `switch`

```js
switch (expression) {
    case valeurA:
        ligne(s) de code;
        break;              // optionnel
    case valeurB:
        ligne(s) de code;
        break;              // optionnel
    case valeurC:
        ligne(s) de code;
        break;              // optionnel
    ...
    default:                // comportement si pas de correspondance
        ligne(s) de code;
}
```

---
## Traitement it&#xE9;ratif : `for`

Boucle classique

```js
for (initialisation; condition; incr&#xE9;mentation) {
    ligne(s) de code;
}
```

Boucle sur les &#xE9;l&#xE9;ments d&apos;un objet

```js
for (variable in objet) {
    ligne(s) de code;
}
```

Boucle sur les &#xE9;l&#xE9;ments d&apos;un tableau

```js
for (variable of tableau) {
    ligne(s) de code;
}
```

---
## Traitement it&#xE9;ratif : `do ... while`

```js
do {
    ligne(s) de code;
} while (condition);
```

## Traitement it&#xE9;ratif : `while`

```js
while (condition) {
    ligne(s) de code;
}
```

---
## Fonctions

La plus utile : `console.log(cha&#xEE;ne)`

```js
function nomFonction (param&#xE8;tre(s)) {
    ligne(s) de code;
    return valeur;          // optionnel
}
// appel classique
```

```js
var nomFonction = function (param&#xE8;tre(s)) {
    ligne(s) de code;
    return valeur;          // optionnel
};
```

L&apos;objet `arguments` contient les param&#xE8;tres utilis&#xE9;s lors de l&apos;appel de la fonction

---
## Manipulation du **DOM**

Deux objets pr&#xE9;sents :
- `document` : contient le **DOM** justement
- `window` : contient tous les informations de la page (dont les variables et fonctions `JS`), ainsi que `document``

Quelques fonctions utiles de `document` ou des &#xE9;l&#xE9;ments du DOM :
- `getElementById(&quot;nom&quot;)` renvoie un pointeur vers l&apos;&#xE9;l&#xE9;ment identifi&#xE9; par `&quot;nom&quot;`
- `getElementsByClassName(&quot;classe&quot;)` renvoie un tableau de pointeur vers les &#xE9;l&#xE9;ments de la classe donn&#xE9;e
- `getElementsByTagName(&quot;balise&quot;)` idem mais pour les &#xE9;l&#xE9;ments de la balise
- `createElement(&quot;balise&quot;)` cr&#xE9;&#xE9; un &#xE9;l&#xE9;ment de type sp&#xE9;cifi&#xE9;
- `innerHTML` contient le contenu `HTML` de l&apos;&#xE9;l&#xE9;ment
- `appendChild`, `removeChild`, `insertBefore` permet d&apos;ajouter ou de supprimer des &#xE9;l&#xE9;ments du DOM

</`,></textarea><script src="https://gnab.github.io/remark/downloads/remark-latest.min.js"></script><script>var slideshow = remark.create();
</script></section>
        <footer></footer>
    <script src="../../lib/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script></body>
</html>